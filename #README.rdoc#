= Cal Raijin Taiko Website Revamp

This is a side project I'm working on to familiarize myself with Rails. If it goes well enough, I might propose using it as a basis for our website revamp.

== Dependencies:

* rvm[https://rvm.io/rvm/install]

* Git[https://help.github.com/articles/set-up-git]

* {Ruby 2.1.*}[https://www.ruby-lang.org/en/]

* {Rails 4.1.*}[http://rubyonrails.org/]

* ImageMagick[http://www.imagemagick.org/]

== Installation:

Note: Some of these steps assume you are running this on a Mac, since that's what I'm using. I'll update this later with Linux instructions, but Windows... you're outta luck T_T

1. Install rvm by following these[https://rvm.io/rvm/install] instructions (you'll need to install curl[http://www.vettyofficer.com/2013/06/how-to-install-curl-in-mac-os-x.html] first).

2. Run the command <tt>rvm install ruby-2.1.2</tt> to download ruby v2.1.2, then <tt>rvm use ruby-2.1.2</tt> to begin using it.

   If you encounter the error <tt>RVM is not a function, selecting rubies with 'rvm use ...' will not work.</tt>, try running the commands
   <tt>source ~/.rvm/scripts/rvm</tt>
   <tt>user$ type rvm | head -n 1</tt>

   If you get the output <tt>rvm is a function</tt> then you're all set! If not... time to go a-Googling.

3. If using a Mac, install homebrew with the command

   <tt>ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"</tt>

4. Fork this repository on the GitHub website, then clone your repository onto your computer:

   <tt>git clone git@github.com:[Your Github Account]/caltaiko.git</tt>

5. Go into the caltaiko repository

   <tt>cd caltaiko</tt>

6. If on a Mac, run the command <tt>brew install imagemagick</tt> to install ImageMagick.

   If running a distro of Linux, go to the {ImageMagick website}[http://www.imagemagick.org/script/download.php] and select a mirror, then download the latest version. Unpack the compressed folder, then <tt>cd</tt> into it.

   Run the command <tt>./configure</tt>, and when it is finished, <tt>make</tt> and then <tt>sudo make install</tt>.

   <b>Note:</b> it is possible to download ImageMagick by simply running <tt>sudo apt-get install imagemagick</tt>, but if you do so the binaries will be downloaded to <tt>/usr/bin/</tt>, rather than <tt>/usr/local/bin/</tt>, requiring more configuration later and loss of compability with any future changes.

7. Run <tt>which convert</tt> to find out where ImageMagick was installed.

   If it does not return <tt>/usr/local/bin/convert</tt>, go to the file <tt>caltaiko/config/environments/development.rb</tt> and change the line <tt>Paperclip.options[:command_path] = "/usr/local/bin/"</tt> to <tt>Paperclip.options[:command_path] = "/path/to/bin/"</tt>, where <tt>/path/to/bin</tt> is the output of <tt>which convert</tt> except for the last <tt>convert</tt> part.

8. Enter the command <tt>gem install bundler</tt>

9. Download the appropriate gems using Bundler[http://bundler.io/rails3.html]:

   <tt>bundle install</tt>

10. Create the database by running <tt>rake db:create</tt>, then push all the migrations to it with <tt>rake db:migrate</tt>

And now you should be all set! Running the command <tt>rails s</tt> should now start up the application, and navigating to <tt>localhost:3000</tt> in a browser will let you play around with it!

== Upkeep:

To keep track of any changes made to the original repository, add remote named upstream

   git remote add upstream https://github.com/greytoyota/caltaiko.git

To sync any changes I make with your own repository, run the commands

   git fetch upstream
   git merge upstream/master

== Usage:

* To make use of the website, you will first need to create an account.
  1. Make sure you have created the databases with the <tt>rake db:create</tt> and <tt>rake db:migrate</tt> commands (you'll only ever need to use <tt>rake db:create</tt> once!)

  2. Start up the server with <tt>rails s</tt>, then open a broswer such as Google Chrome to <tt>localhost:3000</tt>

  3. The first time you are using the site, there will be no members, upcoming performances, or past performances. Your first step to creating those will be to create an admin account.

     a. Navigate to <tt>localhost:3000/register</tt> to reach the registration page.

     b. Create an account.

     c. Now, when you navigate to the 'Members', 'Upcoming Performances', or 'Past Performances' pages, you will see an option to add new resources.

  4. From then on, whenever you wish to add, edit, or delete entires in those three resources, go to <tt>localhost:3000/login</tt> to login using the account you created before. 

== Resources:

* {Rdoc documentation}[http://jan.varwig.org/wp-content/uploads/2006/09/Rdoc%20Cheat%20Sheet.pdf]

* {Rails tutorial}[http://guides.rubyonrails.org/getting_started.html]

Start the application by running command <tt>rails s</tt>

=== Documentation
To generate the formatted Rdoc document, run the command <tt>rake doc:app</tt> from the main directory. This will generate a directory <tt>caltaiko/doc/app/</tt>.

Open the file <tt>caltaiko/doc/app/table_of_contents.html</tt> to view the documentation on each of the pages, classes, modules, and methods of the application.
