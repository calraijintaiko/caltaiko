%article.performance.small-12.column(itemscope itemtype="http://schema.org/Event")
  .row
    .performance-image
      = link_to image_tag(performance.banner.url(:display), itemprop: "image"),
        performance.link, target: "_blank"
      = link_to performance.link, class: "text-link upcoming-perf hide-for-medium-down" do
        %p(itemprop="description")= performance.description
        %br
        %br
        %p.underlined VIEW EVENT
      = link_to performance.link, class: "text-link upcoming-perf hide-for-large-up" do
        %p.underlined VIEW EVENT

    .performance-deets.column.small-12
      .row
        %h2.what.column.small-10(itemprop="name")= performance.title
        .icons.column.small-2
          - if controller.action_name != "show"
            = link_to performance_path(performance),
              itemprop: "url", title: "Get a shareable link for this performance.",
              class: "right hide-for-medium-down" do
              %i.fi-link
          - if performance.images_link.length > 0
            = link_to performance.images_link, title: "Image gallery", class: "right" do
              %i.fi-photo

        - if performance.upcoming?
          %p.when.column.small-12.medium-4
            %time(itemprop="startDate" datetime="#{performance.date.iso8601}")= performance.date.strftime("%A, %B %d, %l:%M%p").upcase
        - else
          %p.when.column.small-12.medium-4
            %time(itemprop="startDate" datetime="#{performance.date.iso8601}")= performance.date.strftime("%A, %B %d, %Y, %l:%M%p").upcase
        %p.where.column.small-12.medium-8(itemprop="location")= performance.location

        - if user_signed_in?
          .icons.column.large-2.hide-for-medium-down
            = link_to performance_path(performance), method: :delete,
              data: { confirm: "Are you sure you'd like to delete performance #{performance.title}?" }, class: "right" do
              %i.fi-trash
            = link_to edit_performance_path(performance), class: "right" do
              %i.fi-pencil
